<!DOCTYPE html>
<html>
<head>
    <title>Gerenciamento de Funcionários</title>
</head>
<body>

<form id="formulario">
    <label for="nome">Nome: </label>
    <input type="text" id="nome" required><br>

    <label for="idade">Idade: </label>
    <input type="number" id="idade" required><br><!--Limita o input do usuário para apenas numeros e torna o preenchimento desse campo obrigatorio-->

    <label for="cargo">Cargo: </label>
    <select id="cargo" required><!--Abre uma caixa de selecao para o cargo-->
        <option value="gerente">Gerente</option>
        <option value="desenvolvedor">Desenvolvedor</option>
    </select><br>

    <div id="departamento-container" style="display: none;">
        <label for="departamento">Departamento: </label>
        <input type="text" id="departamento"><br><!--utilizando required para tornar o preenchimento desse campo obrigatório-->
    </div>

    <div id="linguagem-container" style="display: none;">
        <label for="linguagem">Linguagem: </label>
        <input type="text" id="linguagem"><br><!--utilizando required para tornar o preenchimento desse campo obrigatório-->
    </div>

    <button type="submit">Cadastrar Funcionário</button>
</form>

<br><div id="resultado"></div>

<script>

// Função para atualizar a exibição dos campos de acordo com o cargo selecionado
function atualizarExibicaoCampos() {
    const cargo = document.getElementById('cargo').value;
    const departamentoContainer = document.getElementById('departamento-container');
    const linguagemContainer = document.getElementById('linguagem-container');

    if (cargo === 'gerente') {//utilizando if para mostrar o campo linguagem/departamento de acordo com o cargo selecionado
        departamentoContainer.style.display = 'block';//block é um elemento de CSS e faz com que o elemento seja exibido como bloco
        linguagemContainer.style.display = 'none';//none indica que o elemento não será exibido
    } else if (cargo === 'desenvolvedor') {
        departamentoContainer.style.display = 'none';
        linguagemContainer.style.display = 'block';
    }
}

// Executa a função para atualizar a exibição dos campos ao carregar a página
atualizarExibicaoCampos();

document.getElementById('cargo').addEventListener('change', function() {
    // Chama a função para atualizar a exibição dos campos ao mudar a seleção do cargo
    atualizarExibicaoCampos();
});
// Adiciona um ouvinte de evento para a submissão do formulário
document.getElementById('formulario').addEventListener('submit', function(event) {
    event.preventDefault();

    // Obtém os valores dos campos do formulário
    const nome = document.getElementById('nome').value;
    const idade = document.getElementById('idade').value;
    const cargo = document.getElementById('cargo').value;
    let funcionario;

    try {
        // Cria instância do funcionário apropriado com base no cargo
        if (cargo === 'gerente') {
            const departamento = document.getElementById('departamento').value;
            funcionario = new Gerente(nome, idade, departamento);
        } else if (cargo === 'desenvolvedor') {
            const linguagem = document.getElementById('linguagem').value;
            funcionario = new Desenvolvedor(nome, idade, linguagem);
        }

        // Exibe informações do funcionário no DOM
        const resultadoContainer = document.getElementById('resultado');
        resultadoContainer.innerHTML = funcionario.seApresentar() + '<br>' + funcionario.trabalhar();
    } catch (error) {
        exibirErro(error.message);
    }
});

// Definindo classe Funcionario com nome e idade
class Funcionario {
    constructor(nome, idade) {
        this.nome = nome;
        this.idade = idade;
    }
//O metodo seApresentar vai aparecer independente se o funcionário for desenvolvedor ou gerente
    seApresentar() {//apresenta o nome e idade
        return `Olá, me chamo ${this.nome} e tenho ${this.idade} anos.`;//texto que aparecerá quando preencher o nome e idade
    }
}

class Gerente extends Funcionario {
    constructor(nome, idade, departamento) {
        super(nome, idade);//utiliza os mesmos parametros do funcionaria e adiciona o departamento que gerencia
        this.departamento = departamento;
    }
    //esse trabalhar vai aparecer somente se o funcionário for gerente.
    trabalhar() {
        return `Gerencio o departamento de ${this.departamento}.`;
    }
}
//esse trabalhar vai aparecer somente se o funcionário for desenvolvedor.
class Desenvolvedor extends Funcionario {
    constructor(nome, idade, linguagem) {
        super(nome, idade);//utiliza os parametros de funcionario e adiciona a linguagem que o desenvolvedor programa.
        this.linguagem = linguagem;
    }

    trabalhar() {
        return `Utilizo a linguagem ${this.linguagem}.`;
    }
}

// Função para exibir mensagens de erro
function exibirErro(mensagem) {
    const resultadoContainer = document.getElementById('resultado');
    resultadoContainer.innerHTML = `<p style="color: red;">Erro: ${mensagem}</p>`;
}
</script>

</body>
<br><br><br><footer>Developed by RafaTheBug</footer>
</html>
